---
title: Vue 零碎知识点
author: ecstAsy
date: "2022-02-07"
---

#### **Vue 优点**

> - 轻量级框架：只关注视图层，是一个构建数据的视图集合，大小只有几十 kb
> - 简单易学：国人开发，中文文档，不存在语言障碍 ，易于理解和学习
> - 双向数据绑定：保留了 angular 的特点，在数据操作方面更为简单
> - 组件化：保留了 react 的优点，实现了 html 的封装和重用，在构建单页面应用方面有着独特的优势
> - 视图，数据，结构分离：使数据的更改更为简单，不需要进行逻辑代码的修改，只需要操作数据就能完成相关操作
> - 虚拟 DOM：dom 操作是非常耗费性能的， 不再使用原生的 dom 操作节点，极大解放 dom 操作，但具体操作的还是 dom 不过是换了另一种方式
> - 运行速度更快:相比较与 react 而言，同样是操作虚拟 dom，就性能而言，vue 存在很大的优势

#### **Vue 响应式实现原理**

#### **Vue 数据双向绑定实现**

> **Vue** 双向数据绑定是通过 数据劫持 结合 发布订阅模式的方式来实现的， 也就是说数据和视图同步，数据发生变化，视图跟着变化，视图变化，数据也随之发生改变； 核心：关于 **Vue** 双向数据绑定，其核心是 **Object.defineProperty()** 方法

#### **Vue 常见指令**

> - **v-show/v-if:** 控制节点的显示隐藏
> - **v-for:** 数据遍历
> - **v-model:** 双向数据绑定
> - **v-on:click/@click:** 事件绑定 **v-on** 可以一次绑定多个事件
> - **v-bind/:info:** 数据绑定
> - **v-once:** 只绑定一次

#### **Vue 数据传递**

> - 父组件向子组件传递：**props**
> - 子组件向父组件传递：**$emit**

#### **v-show 和 v-if 区别**

> - 共同点：都是控制元素的显示和隐藏
> - 不同点：本质方法不同
> - **v-show**: 通过 **CSS** 中的 **display** 是否为 **none**，来控制元素的显示与隐藏，且只会编译一次
> - **v-if**: 动态的向 **DOM** 树添加或删除 **DOM** 元素，如果初始值设置为 **false** ,则不会编译。且不停的销毁和创建 **DOM** 元素，比较消耗性能
> - 如果需要频繁的切换某节点，使用 **v-show** 更优（初始开销大，切换开销小），如果不需要频繁切换某节点，则使用 **v-if** 更优（初始开销小，切换开销大）

#### **CSS 只在当前组件生效**

> 在组件的 **style** 前面添加 **scoped**

#### **keep-alive 作用**

> **keep-alive** 是 **Vue** 的内置组件，可以使被包含的组件保留状态，避免被重新渲染

#### **如何获取 DOM**

> 给节点添加 **ref=domName** 属性，通过 **this.$refs.domName** 获取

#### **Key 的作用**

> 每个节点的唯一标识，**Diff** 算法就可以正确识别此节点，高效的更新虚拟 **DOM**

#### **v-model 的使用**

> 用于表单数据的双向绑定，其实就是一个语法糖，实际上就是 **v-bind** 指令绑定一个 **value** 属性，**v-on** 指令给当前元素绑定 **input** 事件

#### **computed 和 watch 使用场景**

> - **computed:** 当一个属性受多个属性影响的时候 🌰：**购物车商品结算的时候**
> - **watch:** 当一个属性影响多个属性的时候 🌰：**搜索数据**

#### **$nextTick 的使用**

> 当你修改了 **data** 的值然后马上获取这个 **DOM** 元素的值，是不能获取到更新后的值，你需要使用 **$nextTick** 这个回调，让修改后的 **data** 值渲染更新到 **DOM** 元素之后在获取，才能成功

#### **data 为什么必须是一个函数**

> 因为 **JavaScript** 的特性所导致，在 **Component** 中，**data** 必须以函数的形式存在，不可以是对象。 组件中的 **data**写成一个函数，数据以函数返回值的形式定义，这样每次复用组件的时候，都会返回一份新的 **data** ，相当于每个组件实例都有自己私有的数据空间，它们只负责各自维护的数据，不会造成混乱。而单纯的写成对象形式，就是所有的组件实例共用了一个 **data** ，这样改一个全都改了。

#### **v-if 和 v-for 的优先级**

> 当 **v-if** 与 **v-for** 一起使用时，**v-for** 具有比 **v-if** 更高的优先级，这意味着 **v-if** 将分别重复运行于每个 **v-for** 循环中。所以，不推荐 **v-if** 和 **v-for** 同时使用。 如果 **v-if** 和 **v-for** 一起用的话，**Vue** 中的的会自动提示 **v-i**f 应该放到外层去
> Vue 3.0 对 **v-if** 和 **v-for** 做了权重比较，可以混合使用
